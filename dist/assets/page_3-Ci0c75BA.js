import{T as f,S as _,m as H,O as W,W as L,b as m,j as E,l as y}from"./three.module-CZBp44lC.js";import{G as S}from"./GLTFLoader-MY3EY_eM.js";function k(e,o,l){return(1-l)*e+l*o}function x(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}function z(){return window.scrollY/(x()-window.innerHeight)}console.log(f);let w=new _;w.background=new H(1,1,1);let n=new W(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,.1,1e3);n.position.z=5;let g=0,h=0,a=new L;a.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(a.domElement);let C=new S,r=null,t=[],s=1,d=0,c=0;C.load("./page_3/page_3_layout.glb",function(e){let o=e.scene.children;for(let b=0;b<o.length;b++){let i=o[b];if(console.log(i),i.material!==void 0){let p=new m({map:i.material.map});i.material=p}switch(i.name){case"start":g=i.position.y;break;case"bubble_0":r=i,r.scale.z*=-1,t[0]!==void 0&&(r.material.map=t[0]);break;case"end":h=i.position.y;break}}let l=new m({color:65280});e.scene.children[0].material=l,w.add(e.scene)});let u=new E;t.push(u.load("page_3/bubble_0/bubble_0_0000.png",function(e){console.log(e)}));t.push(u.load("page_3/bubble_0/bubble_0_0001.png",function(e){console.log(e)}));t.push(u.load("page_3/bubble_0/bubble_0_0002.png",function(e){console.log(e)}));t.push(u.load("page_3/bubble_0/bubble_0_0003.png",function(e){console.log(e)}));function M(e){console.log("here"),n.left=window.innerWidth/-2,n.right=window.innerWidth/2,n.top=window.innerHeight/2,n.bottom=window.innerHeight/-2,n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)}let T=new y(!0);function P(){let e=T.getDelta(),o=z(),l=k(g,h,o);if(n.position.y=l,r!==null&&t.length!==0&&(d+=e,d>s)){for(c++,c>=t.length&&(c=0);d>s;)d-=s;r.material.map=t[c]}a.render(w,n)}window.addEventListener("resize",M);a.setAnimationLoop(P);
